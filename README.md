# cargoproai

Cargoproai assignment â€” Flutter + Firebase + GetX app with **Phone Number OTP authentication** and simple CRUD-style object management.
## âœ¨ Live Hosted app on Firebase link 
- Link :- https://cargoproai.web.app
## Link to Google Drive
- Link :- https://drive.google.com/drive/folders/1QSyifOQzrLp7hWQMAFs-lA9KIbFSsjk5?usp=sharing
## âœ¨ Features
- Phone auth with OTP (Firebase Auth) for **Android/iOS/Web**
- Clean separation of **UI pages** and **GetX controllers**
- Reactive state (`Rx`) for lists, loading, and errors
- Simple navigation with GetX routes
- **Create/Update objects by pasting raw JSON** (current)
- CRUD operations backed by a REST API (`ApiService`)

---

## ğŸ§© Tech stack

- **Flutter** (Dart 3)
- **Firebase**: `firebase_core`, `firebase_auth`
- **State management & routing**: `get`
- **HTTP**: `http`
- **Phone utilities**: `phone_number`, `country_picker`
- **Testing**: `flutter_test`, `http_mock_adapter`, `mocktail`

---


# Flutter Firebase Phone Auth Project

A Flutter application featuring Firebase Phone Authentication with CRUD operations for object management. Built with GetX for state management and routing.

## ğŸš€ Getting Started

### 1) Prerequisites

- **Flutter SDK** (stable channel)
- **Android Studio** / **Xcode** (for Android/iOS development)
- **Modern browser** for web development
- **Firebase project** with Phone authentication enabled

### 2) Install Dependencies

## ğŸ“¦ Dependencies (from `pubspec.yaml`)

```yaml
name: cargoproai
description: Cargoproai assignment.
publish_to: "none"
version: 1.0.0+1

environment:
  sdk: ">=3.4.0 <4.0.0"

dependencies:
  flutter:
    sdk: flutter
  cupertino_icons: ^1.0.6
  get: ^4.6.6
  http: ^1.2.2
  firebase_core: ^3.3.0
  firebase_auth: ^5.1.2
  phone_number: ^2.1.0
  country_picker: ^2.0.27

dev_dependencies:
  flutter_test:
    sdk: flutter
  flutter_lints: ^4.0.0
  http_mock_adapter: ^0.6.1
  mocktail: ^1.0.2

flutter:
  uses-material-design: true
```

```bash
flutter pub get
```

### 3) Configure Firebase (All Platforms)

Install and configure FlutterFire CLI:

```bash
dart pub global activate flutterfire_cli
flutterfire configure
```

- Select your Firebase project
- Choose target platforms: Android, iOS, Web
- This generates `lib/firebase_options.dart`

### 4) Android Setup

1. Add your **package name**, **SHA-1**, and **SHA-256** fingerprints in Firebase Console â†’ Project Settings
2. Ensure `android/app/google-services.json` exists
3. Set `minSdkVersion 23` in `android/app/build.gradle`

### 5) iOS Setup

1. Add your **iOS Bundle ID** in Firebase Console
2. Ensure `ios/Runner/GoogleService-Info.plist` exists

### 6) Web Setup

1. Ensure a **Web app** is added in Firebase Console
2. FlutterFire CLI automatically writes the configuration to `firebase_options.dart`

### 7) Initialize Firebase

Add Firebase initialization to `main.dart`:

```dart
import 'package:flutter/material.dart';
import 'package:firebase_core/firebase_core.dart';
import 'firebase_options.dart';
import 'package:get/get.dart';

Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});
  
  @override
  Widget build(BuildContext context) {
    return GetMaterialApp(
      title: 'cargoproai',
      // Configure your theme, routes, and initial page here
      // home: AuthGate()
    );
  }
}
```

## ğŸ” Firebase Phone Authentication

### Enable Phone Provider

1. Go to **Firebase Console** â†’ **Authentication** â†’ **Sign-in method**
2. Enable **Phone** authentication

### Authentication Flow

#### Mobile (Android/iOS)
- Requires SHA-1 & SHA-256 fingerprints added to Firebase
- **Flow**: `AuthController.sendOtp(phone)` â†’ `verifyPhoneNumber` â†’ `AuthController.verifyOtp(code)` â†’ `PhoneAuthCredential` â†’ Sign in

#### Web
- **Flow**: `AuthController.sendOtp(phone)` â†’ `ConfirmationResult` â†’ `AuthController.verifyOtp(code)` â†’ `confirmationResult.confirm(code)`

## ğŸ—‚ï¸ Project Structure

```
lib/
  app/
    controllers/
      auth_controller.dart       # Firebase auth (sendOtp, verifyOtp, logout)
      login_controller.dart      # Phone input, send OTP, navigate to OTP
      otp_controller.dart        # Verify 6-digit OTP, go to Home
      object_controller.dart     # List/detail/create/update/delete objects
    data/
      models/                    # Data models
      services/                  # ApiService (HTTP layer)
    routes/
      app_pages.dart            # GetX named routes
    theme/                      # App theming
    ui/
      pages/                    # All UI pages (Login, OTP, Home, Detail, Edit)
      widgets/                  # Reusable widgets
    utils/                      # Utility functions/helpers
  auth_gate.dart               # Auth state â†’ LoginPage or HomePage
  firebase_options.dart        # Generated by FlutterFire
  main.dart
```

## ğŸ§­ User Flow

1. **LoginPage** â†’ Enter phone number â†’ Send OTP
2. **OtpPage** â†’ Enter 6-digit OTP â†’ Verify
3. **HomePage** â†’ View list of objects
4. **DetailPage** / **EditPage** â†’ View or modify objects
5. **Logout** â†’ Return to LoginPage

## â–¶ï¸ Running the Application

### Android
```bash
flutter run -d android
```

### iOS
```bash
flutter run -d ios
```

### Web
```bash
flutter run -d chrome
```

## ğŸ§± Current Limitations

- **Phone Authentication Dependency**: Relies on SMS delivery and Google Play Services
- **Basic Error Handling**: Uses simple snackbar notifications, no localization
- **No Offline Support**: Requires API connection for object data
- **No Role-Based Access**: All users have identical permissions
- **Manual JSON Input**: Objects must be created/updated by pasting raw JSON

## ğŸ—ºï¸ Future Improvements

### Planned Features
- **Dynamic UI Forms**: Build intuitive forms for object creation instead of manual JSON input
- **Resend OTP**: Add cooldown timer and progress indicator for OTP resend
- **Enhanced Security**: Integrate Firebase App Check to reduce abuse on Web
- **Multi-Factor Authentication**: Add backup sign-in methods
- **Offline Support**: Implement local caching with Hive/SQLite
- **Better UX**: Improve error messages and add localization support
- **CI/CD Pipeline**: Automated testing and deployment to Firebase Hosting

## ğŸ› ï¸ Technologies Used

- **Flutter** - Cross-platform UI framework
- **Firebase** - Backend services (Auth, potentially Firestore)
- **GetX** - State management and routing
- **HTTP** - API communication

## ğŸ“ License

This is a private assignment project and is not published to pub.dev.

---

## ğŸ“ Support

If you encounter any issues with Firebase setup or authentication, please check:
1. Firebase project configuration
2. Platform-specific setup (SHA keys for Android, Bundle ID for iOS)
3. Phone number format and regional availability
4. Network connectivity for OTP delivery

